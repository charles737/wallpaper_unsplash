# Wallpaper Unsplash

ä¸€ä¸ªä½¿ç”¨ Flutter å¼€å‘çš„å£çº¸åº”ç”¨ï¼Œé›†æˆäº† Unsplash API æ¥è·å–é«˜è´¨é‡çš„å›¾ç‰‡ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¨ æ¬¢è¿é¡µé¢å±•ç¤ºéšæœº Unsplash é«˜æ¸…å£çº¸ï¼ˆ1080pï¼‰
- ğŸ”„ æ”¯æŒåˆ·æ–°å£çº¸åŠŸèƒ½
- ğŸ“± ä¼˜é›…çš„ UI è®¾è®¡
- ğŸš« å·²å…³é—­ Debug æ ‡ç­¾
- ğŸ“‚ å£çº¸åˆ†ç±»æµè§ˆï¼ˆè‡ªç„¶ã€å»ºç­‘ã€åŠ¨ç‰©ç­‰ï¼‰
- ğŸ” å›¾ç‰‡è¯¦æƒ…æŸ¥çœ‹ï¼ˆæ”¯æŒç¼©æ”¾ã€æ—‹è½¬ï¼‰
- ğŸ’¾ **å›¾ç‰‡ä¸‹è½½ä¿å­˜åˆ°ç›¸å†Œ**
- ğŸ“‹ **å·²ä¸‹è½½å›¾ç‰‡ç®¡ç†**
- ğŸ”— å›¾ç‰‡åˆ†äº«åŠŸèƒ½

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

### ğŸ“‚ ç¨‹åºç›®å½•æ¸…å•

```
wallpaper_unsplash/
â”œâ”€â”€ lib/                              # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.dart                     # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ models/                       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ photo_category.dart       # ç…§ç‰‡åˆ†ç±»æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ unsplash_photo.dart       # Unsplash ç…§ç‰‡æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ pages/                        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ downloaded_photos_page.dart  # å·²ä¸‹è½½å›¾ç‰‡ç®¡ç†é¡µ
â”‚   â”‚   â”œâ”€â”€ home_page.dart            # é¦–é¡µï¼ˆåˆ†ç±»æµè§ˆï¼‰
â”‚   â”‚   â”œâ”€â”€ photo_detail_page.dart    # å›¾ç‰‡è¯¦æƒ…é¡µï¼ˆå«ä¸‹è½½åŠŸèƒ½ï¼‰
â”‚   â”‚   â””â”€â”€ welcome_page.dart         # æ¬¢è¿é¡µé¢
â”‚   â””â”€â”€ services/                     # æœåŠ¡ç±»
â”‚       â”œâ”€â”€ download_helper_stub.dart # ä¸‹è½½è¾…åŠ©ï¼ˆå­˜æ ¹ï¼‰
â”‚       â”œâ”€â”€ download_helper_web.dart  # ä¸‹è½½è¾…åŠ©ï¼ˆWebå¹³å°ï¼‰
â”‚       â”œâ”€â”€ theme_manager.dart        # ä¸»é¢˜ç®¡ç†å™¨
â”‚       â””â”€â”€ unsplash_service.dart     # Unsplash API æœåŠ¡
â”œâ”€â”€ android/                          # Android å¹³å°é…ç½®
â”œâ”€â”€ ios/                              # iOS å¹³å°é…ç½®
â”œâ”€â”€ web/                              # Web å¹³å°é…ç½®
â”œâ”€â”€ macos/                            # macOS å¹³å°é…ç½®
â”œâ”€â”€ linux/                            # Linux å¹³å°é…ç½®
â”œâ”€â”€ windows/                          # Windows å¹³å°é…ç½®
â”œâ”€â”€ doc/                              # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                     # æ–‡æ¡£ä¸­å¿ƒç´¢å¼•
â”‚   â”œâ”€â”€ api/                          # API æ¥å£æ–‡æ¡£
â”‚   â”œâ”€â”€ fixes/                        # é—®é¢˜ä¿®å¤æ–‡æ¡£
â”‚   â””â”€â”€ guides/                       # ä½¿ç”¨è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ pubspec.yaml                      # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ README.md                         # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd wallpaper_unsplash
```

### 2. å®‰è£…ä¾èµ–

```bash
flutter pub get
```

### 3. é…ç½® Unsplash API Key

âš ï¸ **å¿…é¡»é…ç½® API Key æ‰èƒ½è¿è¡Œ**

è¯·å‚è€ƒ [Unsplash API è®¾ç½®æ–‡æ¡£](./doc/api/UNSPLASH_API_SETUP.md) è·å–è¯¦ç»†é…ç½®è¯´æ˜ã€‚

ç®€è¦æ­¥éª¤ï¼š
1. è®¿é—® [Unsplash Developers](https://unsplash.com/developers) æ³¨å†Œåº”ç”¨
2. è·å– Access Key
3. ä¿®æ”¹ `lib/services/unsplash_service.dart` ä¸­çš„ `_accessKey` å¸¸é‡

### 4. è¿è¡Œåº”ç”¨

```bash
flutter run
```

## ğŸ—ï¸ æ„å»ºå‘å¸ƒç‰ˆæœ¬

é¡¹ç›®æä¾›äº†ä¾¿æ·çš„æ„å»ºè„šæœ¬å’Œ Makefile å‘½ä»¤ã€‚

### macOS DMG å®‰è£…åŒ… (.dmg)

**æ–¹æ³• 1ï¼šä½¿ç”¨ Makefileï¼ˆæ¨èï¼‰**
```bash
make build-macos-dmg
```

**æ–¹æ³• 2ï¼šç›´æ¥è¿è¡Œè„šæœ¬**
```bash
./scripts/build_macos_dmg.sh
```

æ„å»ºå®Œæˆåï¼ŒDMG æ–‡ä»¶ä½ç½®ï¼š`build/macos/wallpaper_unsplash_macos.dmg`

### å…¶ä»–å¹³å°

```bash
# Android APK
make build-android
# æˆ–
flutter build apk --release

# iOS
make build-ios
# æˆ–
flutter build ios --release

# macOS .app (ä¸æ‰“åŒ… DMG)
make build-macos
# æˆ–
flutter build macos --release
```

### Makefile å‘½ä»¤åˆ—è¡¨

```bash
make help              # æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤
make clean             # æ¸…ç†æ„å»ºæ–‡ä»¶
make get               # è·å–ä¾èµ–
make run-macos         # è¿è¡Œ macOS åº”ç”¨
make build-macos-dmg   # æ„å»º macOS DMG å®‰è£…åŒ… â­
make check-arch        # æ£€æŸ¥åº”ç”¨æ”¯æŒçš„ CPU æ¶æ„
```

### å…³äº Intel å’Œ Apple Silicon æ”¯æŒ

âœ¨ **å¥½æ¶ˆæ¯**ï¼šé»˜è®¤æ„å»ºçš„ DMG æ˜¯ **Universal Binaryï¼ˆé€šç”¨äºŒè¿›åˆ¶ï¼‰**

- âœ… **åŒä¸€ä¸ª DMG åŒæ—¶æ”¯æŒ Intel å’Œ M èŠ¯ç‰‡ï¼ˆM1/M2/M3ï¼‰**
- âœ… æ— éœ€åˆ†åˆ«æ‰“åŒ…
- âœ… ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©å¯¹åº”æ¶æ„è¿è¡Œ

éªŒè¯æ¶æ„æ”¯æŒï¼š
```bash
make check-arch
```

## ğŸ“¦ Flutter ç»„ä»¶ä¸ä¾èµ–

### æ ¸å¿ƒä¾èµ–åŒ…

| ç»„ä»¶åŒ… | ç‰ˆæœ¬ | ç”¨é€”è¯´æ˜ |
|--------|------|----------|
| `flutter` | SDK | Flutter æ¡†æ¶æ ¸å¿ƒ |
| `http` | ^1.2.0 | HTTP ç½‘ç»œè¯·æ±‚ï¼Œç”¨äºè°ƒç”¨ Unsplash API |
| `cached_network_image` | ^3.3.1 | ç½‘ç»œå›¾ç‰‡ç¼“å­˜åŠ è½½ï¼Œæå‡å›¾ç‰‡åŠ è½½æ€§èƒ½ |
| `photo_view` | ^0.15.0 | å›¾ç‰‡æŸ¥çœ‹å™¨ï¼Œæ”¯æŒç¼©æ”¾ã€æ—‹è½¬ã€æ‹–åŠ¨ |
| `share_plus` | ^10.1.2 | è·¨å¹³å°åˆ†äº«åŠŸèƒ½ |
| `saver_gallery` | ^3.0.6 | ä¿å­˜å›¾ç‰‡åˆ°è®¾å¤‡ç›¸å†Œ |
| `shared_preferences` | ^2.3.3 | æœ¬åœ°æ•°æ®æŒä¹…åŒ–å­˜å‚¨ |
| `permission_handler` | ^11.3.1 | è¿è¡Œæ—¶æƒé™ç®¡ç† |
| `cupertino_icons` | ^1.0.8 | iOS é£æ ¼å›¾æ ‡åº“ |

### ä¸»è¦ Flutter ç»„ä»¶

**UI ç»„ä»¶ï¼š**
- `MaterialApp` - Material Design åº”ç”¨å®¹å™¨
- `Scaffold` - é¡µé¢è„šæ‰‹æ¶ï¼ˆAppBar + Bodyï¼‰
- `AppBar` - åº”ç”¨é¡¶éƒ¨å¯¼èˆªæ 
- `GridView` - ç½‘æ ¼å¸ƒå±€ï¼ˆå›¾ç‰‡åˆ—è¡¨ï¼‰
- `ListView` - åˆ—è¡¨å¸ƒå±€ï¼ˆåˆ†ç±»é€‰æ‹©ï¼‰
- `Card` - å¡ç‰‡ç»„ä»¶
- `FilterChip` - ç­›é€‰æ ‡ç­¾æŒ‰é’®
- `CircularProgressIndicator` - åœ†å½¢åŠ è½½æŒ‡ç¤ºå™¨
- `Hero` - é¡µé¢è¿‡æ¸¡åŠ¨ç”»
- `GestureDetector` - æ‰‹åŠ¿æ£€æµ‹
- `RefreshIndicator` - ä¸‹æ‹‰åˆ·æ–°

**å¯¼èˆªç»„ä»¶ï¼š**
- `Navigator` - é¡µé¢è·¯ç”±å¯¼èˆª
- `MaterialPageRoute` - Material é£æ ¼é¡µé¢è·¯ç”±

**çŠ¶æ€ç®¡ç†ï¼š**
- `StatefulWidget` - æœ‰çŠ¶æ€ç»„ä»¶
- `ChangeNotifier` - çŠ¶æ€é€šçŸ¥ï¼ˆä¸»é¢˜ç®¡ç†ï¼‰
- `setState()` - å±€éƒ¨çŠ¶æ€æ›´æ–°

**ä¸»é¢˜ç³»ç»Ÿï¼š**
- `ThemeData` - ä¸»é¢˜é…ç½®
- `ThemeManager` - è‡ªå®šä¹‰ä¸»é¢˜ç®¡ç†å™¨
- `ThemeMode` - ä¸»é¢˜æ¨¡å¼ï¼ˆæ˜æš—åˆ‡æ¢ï¼‰
- æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢
- ä¸»é¢˜è‰²ï¼š`#BA7264`ï¼ˆç«ç‘°æ£•è‰²ï¼‰

## ğŸ“± æ”¯æŒå¹³å°

- âœ… Android
- âœ… iOS
- âœ… Web
- âœ… macOS
- âœ… Linux
- âœ… Windows

## ğŸ“š æ–‡æ¡£ä¸­å¿ƒ

å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£è¯·è®¿é—® [æ–‡æ¡£ä¸­å¿ƒ](./doc/README.md)ï¼š

- ğŸ“– [ä½¿ç”¨è¯´æ˜æ–‡æ¡£](./doc/guides/) - åŠŸèƒ½ä»‹ç»å’Œå¼€å‘æŒ‡å—
- ğŸ”§ [ä¿®å¤æ–‡æ¡£](./doc/fixes/) - é—®é¢˜æ’æŸ¥å’Œè§£å†³æ–¹æ¡ˆ
- ğŸŒ [API æ¥å£æ–‡æ¡£](./doc/api/) - ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ

## ğŸ“„ API æ¥å£æ–‡æ¡£

### UnsplashService ç±»

ä¸»è¦æ–¹æ³•ï¼š

| æ–¹æ³• | åŠŸèƒ½è¯´æ˜ |
|------|----------|
| `getPhotos()` | è·å–ç…§ç‰‡åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æ’åºï¼‰ |
| `getRandomPhoto()` | è·å–éšæœºç…§ç‰‡ï¼ˆæ”¯æŒå°ºå¯¸ã€ä¸»é¢˜ç­›é€‰ï¼‰ |
| `searchPhotos()` | æœç´¢ç…§ç‰‡ï¼ˆæ”¯æŒå…³é”®è¯ã€åˆ†é¡µï¼‰ |
| `getPhotoById()` | è·å–æŒ‡å®š ID çš„ç…§ç‰‡è¯¦æƒ… |

**è¯¦ç»†æ–‡æ¡£ï¼š**
- [**API æ¥å£å‚è€ƒ**](./doc/api/API_REFERENCE.md) - å®Œæ•´çš„æ¥å£æ–‡æ¡£ã€å‚æ•°è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹
- [**API é…ç½®æŒ‡å—**](./doc/api/UNSPLASH_API_SETUP.md) - API Key è·å–å’Œé…ç½®è¯´æ˜

## ğŸ’¾ ä¸‹è½½åŠŸèƒ½

åº”ç”¨æ”¯æŒå°†é«˜æ¸…å£çº¸ä¿å­˜åˆ°è®¾å¤‡ç›¸å†Œï¼Œå¹¶æä¾›å·²ä¸‹è½½å›¾ç‰‡çš„ç®¡ç†åŠŸèƒ½ã€‚

**ä¸»è¦ç‰¹æ€§ï¼š**
- ä¸‹è½½ 1440p é«˜æ¸…å›¾ç‰‡ï¼ˆ2560x1440ï¼‰
- è‡ªåŠ¨ä¿å­˜åˆ°ç³»ç»Ÿç›¸å†Œ
- ä¸‹è½½è¿›åº¦æç¤º
- å·²ä¸‹è½½å›¾ç‰‡åˆ—è¡¨ç®¡ç†
- æ”¯æŒåˆ é™¤å’Œæ¸…ç©ºä¸‹è½½è®°å½•

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·æŸ¥çœ‹ [ä¸‹è½½åŠŸèƒ½æ–‡æ¡£](./doc/guides/DOWNLOAD_FEATURE.md)

## ğŸ¯ å·²å®ŒæˆåŠŸèƒ½

- âœ… å£çº¸åˆ†ç±»æµè§ˆ
- âœ… å›¾ç‰‡è¯¦æƒ…æŸ¥çœ‹ï¼ˆç¼©æ”¾ã€æ—‹è½¬ï¼‰
- âœ… å›¾ç‰‡ä¸‹è½½ä¿å­˜
- âœ… å·²ä¸‹è½½å›¾ç‰‡ç®¡ç†
- âœ… å›¾ç‰‡åˆ†äº«åŠŸèƒ½

## ğŸš§ å¾…å¼€å‘åŠŸèƒ½

- [ ] å£çº¸æœç´¢åŠŸèƒ½
- [ ] å£çº¸æ”¶è—åŠŸèƒ½
- [ ] è®¾ç½®ä¸ºå£çº¸
- [ ] æ‰¹é‡ä¸‹è½½
- [ ] ä¸ªäººæ”¶è—é›†
- [ ] é€‰æ‹©ä¸‹è½½è´¨é‡

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ã€‚

## ğŸ™ è‡´è°¢

- [Unsplash](https://unsplash.com/) - æä¾›é«˜è´¨é‡çš„å…è´¹å›¾ç‰‡
- [Flutter](https://flutter.dev/) - ä¼˜ç§€çš„è·¨å¹³å°å¼€å‘æ¡†æ¶
